{"version":3,"sources":["Components/Controls/Controls.module.css","Components/TransactionHistory/TransactionHistory.module.css","Containers/Dashboard/Dashboard.module.css","Components/Balance/Balance.module.css","Components/Controls/Controls.jsx","Components/Balance/Balance.jsx","Components/TransactionHistory/TransactionHistory.jsx","Containers/Dashboard/Dashboard.jsx","Components/App/App.jsx","index.js"],"names":["module","exports","Controls","state","amount","handleChange","e","setState","target","name","value","handleSubmitAdd","event","preventDefault","props","onAddTransaction","className","styles","form","type","onChange","this","controls","onClick","Component","Balance","handleTotalAmount","balance","BalanceWrapper","clientBalance","clientBalance__col","defaultProps","TransactionHistory","items","table","length","map","el","key","id","date","uuidv4","require","Dashboard","transactions","notifyNoInputValue","toast","notifyNoCost","trans","transaction","Date","toLocaleDateString","Number","parentNode","reset","filter","reduce","acc","DashboardWrapper","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cee62567.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Controls_form__7fCLg\",\"controls\":\"Controls_controls__1BRZ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"TransactionHistory_table__2k6pm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DashboardWrapper\":\"Dashboard_DashboardWrapper__s8rR3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BalanceWrapper\":\"Balance_BalanceWrapper__3-ypS\",\"clientBalance\":\"Balance_clientBalance__35-gz\",\"clientBalance__col\":\"Balance_clientBalance__col__27-3i\"};","/* eslint-disable react/state-in-constructor */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nexport default class Controls extends Component {\n  state = {\n    amount: 0,\n  };\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  handleSubmitAdd = event => {\n    event.preventDefault();\n    this.props.onAddTransaction({ ...this.state }, event);\n  };\n\n  render() {\n    return (\n      <form className={styles.form}>\n        <input type=\"number\" name=\"amount\" onChange={this.handleChange} />\n        <button\n          className={styles.controls}\n          type=\"submit\"\n          name=\"deposit\"\n          onClick={this.handleSubmitAdd}\n        >\n          Deposit\n        </button>\n        <button\n          className={styles.controls}\n          type=\"submit\"\n          name=\"withdrawal\"\n          onClick={this.handleSubmitAdd}\n        >\n          Withdraw\n        </button>\n      </form>\n    );\n  }\n}\n\nControls.propTypes = {\n  onAddTransaction: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ handleTotalAmount, balance }) => (\n  <div className={styles.BalanceWrapper}>\n    <div className={styles.clientBalance}>\n      <div className={styles.clientBalance__col}>\n        &#8593;{handleTotalAmount('deposit')}\n      </div>\n      <div className={styles.clientBalance__col}>\n        &#8595;{handleTotalAmount('withdrawal')}\n      </div>\n      <div className={styles.clientBalance__col}>Balance: {balance}</div>\n    </div>\n  </div>\n);\n\nBalance.propTypes = {\n  handleTotalAmount: PropTypes.func.isRequired,\n  balance: PropTypes.number.isRequired,\n};\n\nBalance.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ items }) => (\n  <div className=\"TransactionHistoryWrapper\">\n    <table className={styles.table}>\n      <thead>\n        <tr>\n          <td>TRANSACTION</td>\n          <td>AMOUNT</td>\n          <td>DATE</td>\n        </tr>\n      </thead>\n      <tbody>\n        {items.length > 0 &&\n          items.map(el => (\n            <tr key={el.id}>\n              <td>{el.type}</td>\n              <td>{el.amount}</td>\n              <td>{el.date}</td>\n            </tr>\n          ))}\n      </tbody>\n    </table>\n  </div>\n);\n\nTransactionHistory.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      amount: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      date: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","/* eslint-disable react/state-in-constructor */\nimport React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Controls from '../../Components/Controls/Controls';\nimport Balance from '../../Components/Balance/Balance';\nimport TransactionHistory from '../../Components/TransactionHistory/TransactionHistory';\nimport 'react-toastify/dist/ReactToastify.css';\nimport styles from './Dashboard.module.css';\n\nconst uuidv4 = require('uuid/v4');\n\nexport default class Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n  };\n\n  notifyNoInputValue = () => toast('Введите сумму для проведения операции!');\n\n  notifyNoCost = () =>\n    toast('На счету недостаточно средств для проведения операции!');\n\n  onAddTransaction = (trans, event) => {\n    const transaction = {\n      ...trans,\n      id: uuidv4(),\n      type: event.target.name,\n      date: new Date().toLocaleDateString(),\n    };\n    if (Number(trans.amount) <= 0) {\n      this.notifyNoInputValue();\n      return;\n    }\n    if (event.target.name === 'withdrawal') {\n      if (this.state.balance < trans.amount) {\n        this.notifyNoCost();\n        return;\n      }\n      this.setState(state => ({\n        transactions: [...state.transactions, transaction],\n        balance: Number(state.balance) - Number(trans.amount),\n      }));\n    } else if (event.target.name === 'deposit') {\n      this.setState(state => ({\n        transactions: [...state.transactions, transaction],\n        balance: Number(state.balance) + Number(trans.amount),\n      }));\n    }\n    event.target.parentNode.reset();\n  };\n\n  // income = () => {\n  //   const incomeTrans = this.state.transactions.filter(\n  //     el => el.type === 'deposit',\n  //   );\n  //   return incomeTrans.map(el => Number(el.amount)).reduce((a, b) => a + b, 0);\n  // };\n\n  // expenses = () => {\n  //   const expensesTrans = this.state.transactions.filter(\n  //     el => el.type === 'withdrawal',\n  //   );\n  //   return expensesTrans\n  //     .map(el => Number(el.amount))\n  //     .reduce((a, b) => a + b, 0);\n  // };\n\n  handleTotalAmount = type => {\n    const { transactions } = this.state;\n    const amount = transactions\n      .filter(transaction => transaction.type === type)\n      .reduce((acc, transaction) => {\n        return Number(transaction.amount) + Number(acc);\n      }, 0);\n\n    return amount;\n  };\n\n  render() {\n    const { transactions, balance } = this.state;\n    return (\n      <div className={styles.DashboardWrapper}>\n        <Controls onAddTransaction={this.onAddTransaction} />\n        <Balance handleTotalAmount={this.handleTotalAmount} balance={balance} />\n        <TransactionHistory items={transactions} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","/* eslint-disable import/extensions */\nimport React from 'react';\nimport styles from './App.module.css';\nimport Dashboard from '../../Containers/Dashboard/Dashboard';\n\nconst App = () => (\n  <div className={styles.App}>\n    <Dashboard />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}